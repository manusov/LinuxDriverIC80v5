IC Book IC80v5 PCI device driver sample (Linux). 
Two char devices for support 8 and 16-bit operations.
Драйвер создает два символьных устройства для 8 и 16-битного вывода в порт 0080h.


Драйвер символьного устройства для IC80v5 PCI diagnostics POST card.
В этом варианте создается два символьных устройства, соответствующих одному
физическому устройству IC80v5. Устройства обеспечивают 8 и 16-битный вывод
в порт 80h.
В комплект входит драйвер и тестовое приложение.

Комментарии к скрин-шотам:

1) terminal.png
Процесс сборки, инсталляции, тестирования, де-инсталляции.
"ls" - просмотр каталога
"make" - сборка драйвера и тестовой программы
"ls" - просмотр каталога после сборки
"sudo insmod ic80_driver.ko" - инсталляция драйвера
"sudo ./ic80_test" - запуск теста
"55" - ввод числа в виде текстовой строки для 8-битного теста
после нажатия ENTER число должно отобразиться на индикаторе
"5aa5" - ввод числа в виде текстовой строки для 16-битного теста
после нажатия ENTER число должно отобразиться на индикаторе
"sudo rmmod ic80_driver.ko" - де-инсталляция драйвера

2) dev.png
В соответствии с методологией, используемой в Linux для взаимодействия
приложений и модулей ядра, драйвер создает виртуальные файлы устройств
в каталоге /dev (два файла, для 8 и 16-битного вариантов:
ic80char_8bit, ic80char_16bit).
Текстовая строка, записываемая в виртуальный файл, преобразуется в
целое число и записывается в диагностический порт 0080h,
что отображается на индикаторах диагностического контроллера.

3) log.png
Протокол последовательности событий, формируемый в логе ядра
(в данном примере /var/log/kern.log), в процессе загрузки,
тестирования и выгрузки драйвера.

4) lsmod.png
Результат команды "lsmod" при инсталлированном драйвере.
Проверяем, что после инсталляции драйвер присутствует в списке
модулей ядра Linux.

5) modinfo.png
Результат команды "modinfo ic80_driver.ko" при инсталлированном
драйвере. Отображаются свойства драйвера.

6) lspci-v (installed).png
Результат команды "lspci -v" при инсталлированном драйвере
(после команды insmod).
Проверяем, что ядро Linux установило ассоциацию загруженного
драйвера и физического PCI устройства.
Физическое устройство присутствует, драйвер назначен.

7) lspci-v (not installed).png
Результат команды "lspci -v" после де-инсталляции драйвера 
(после команды rmmod).
Проверяем, ято ядро Linux прекратило ассоциацию загруженного
драйвера и физического PCI устройства.
Физическое устройство присутствует, драйвер НЕ назначен.


IC80v5 driver version updated to v0.11.
Реализован контроль ввода недопустимых значений:
символов, не являющихся шестнадцатеричными цифрами 0-9, A-F,
а также превышения длины строки:
2 символа для 8-битного hex числа,
4 символа для 16-битного hex числа.



